<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax fileload(setTimeOut)</title>

<style>
.box{
width: 200px;
height: 50px;
color: white;
background-color: black;
text-align: center;
list-style: 50px;
font-size: 12px;
}
</style>
</head>
<body>
<input type="button" value="실행" onclick="gopage()">
<div class="box" id="box"></div>

<div id="ag">
</div>
<div id="ag2">
</div>

</body>
<script>

window.onload = function() {
	let time = 5;
	
	function aaa() {
		document.getElementById("box").innerHTML = "광고중" + time + "초";
		time--; // -1씩 감소
		if(time > 0 ){
			setTimeout(aaa,1000); //메소드 재호출
		} else{ //0이하가 되었을 경우 해당 단어로 오브젝트에 출력
		document.getElementById("box").innerHTML = "SKIP";
		}
	}
	setTimeout(aaa,0);
}


window.onload = function() {
	var http = new XMLHttpRequest;
	http.open("GET","./realty/agree1.txt",false);
	http.send();
	document.getElementById("ag").innerHTML = http.response;
	
	var http2 = new XMLHttpRequest;
	http2.open("GET","./realty/agree2.txt",false);
	http2.send();
	document.getElementById("ag2").innerHTML = http.response;
}


function gopage() {
	// 설정한 시간 후에 페이지 로드 (db부하줄임)
	var url = "http://naver.com";
	setTimeout(() => {
		location.href = url;
	}, 5000);
	
}
</script>
</html>